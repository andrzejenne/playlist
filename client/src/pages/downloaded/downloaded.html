<ion-header>
  <ion-navbar>
    <button ion-button menuToggle="menu">
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>In Cloud</ion-title>
  </ion-navbar>
  <ion-toolbar>
    <ion-item>
      <ion-icon item-start name="search"></ion-icon>
      <ion-input icon-left type="text" [(ngModel)]="search" (ionChange)="filter()">
      </ion-input>
      <button item-end ion-button clear *ngIf="search" (click)="search=''">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-item>
  </ion-toolbar>
</ion-header>

<ion-content #content>
  <ion-grid>
    <ion-row *ngIf="player">
      <ion-col style="height: {{video.height}} + 'px">
        <video controls [poster]="video.thumbnail" height="100%">
          <source [src]="video.src" [type]="video.type">
        </video>
        <button ion-button color="danger" (click)="closeVideo()">Close</button>
      </ion-col>
    </ion-row>
    <ion-row style="height: 100%;">
      <ion-col>
        <ion-content>
          <ion-list>
            <ion-item *ngFor="let item of list">
              <img class="thumbnail" item-start [src]="getThumbnailUrl(item)" width="160">
              <div class="item-content">
                <h2>{{item.name}}</h2>
                <!--<p *ngIf="item.description">{{item.description}}</p>-->
                <ion-buttons end>
                  <button ion-button color="primary" small icon-left clear (click)="addToPlaylist(item)">
                    <ion-icon name="list"></ion-icon>
                    <span *ngIf="isLandscape()">Add to playlist</span>
                  </button>
                  <button *ngIf="hasVideo(item)" ion-button color="primary" small icon-left clear
                          (click)="playVideo(item)">
                    <ion-icon name="videocam"></ion-icon>
                    <span *ngIf="isLandscape()">Play video</span>
                  </button>
                  <button *ngIf="hasAudio(item)" ion-button color="primary" small icon-left clear
                          (click)="playAudio(item)">
                    <ion-icon name="musical-notes"></ion-icon>
                    <span *ngIf="isLandscape()">Play audio</span>
                  </button>
                </ion-buttons>
                <!--<a [href]="'https://www.youtube.com/watch?v='+item.sid" target="_blank" title="preview">-->
                <!--<ion-icon name="search"></ion-icon>-->
                <!--</a>-->
              </div>
            </ion-item>
          </ion-list>
        </ion-content>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
