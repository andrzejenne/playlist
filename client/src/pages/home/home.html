<ion-header>
    <ion-navbar>
        <button ion-button menuToggle="menu">
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-searchbar [(ngModel)]="search" (ionFocus)="getSearchHistory(); focused = true;" (ionBlur)="focused = false" (ionInput)="searchItems()" [debounce]="500"></ion-searchbar>
        <ion-buttons end right>
            <button ion-button *ngIf="search && search.length > 1" (click)="onSearchClick">Search</button>
        </ion-buttons>
        <!--<search-bar (search)="onSearchChange"></search-bar>-->
    </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-card *ngIf="userData">
        <ion-card-content>
            <img class="profile-img" [hidden]="!userData" [src]="userData.imageUrl" />
            <h1>{{userData.displayName}}</h1>
            <p>{{userData.email}}</p>
        </ion-card-content>
    </ion-card>
    <button (click)="loginUser()">Login</button>
    <button (click)="logoutUser()">Logout</button>


    <ion-list *ngIf="!list.length && history.length > 1" class="history">
        <ion-item *ngFor="let item of history" (click)="searchItems(item.query)">
            {{ item.query }}
            <button ion-button icon-only clear item-end (click)="removeSearchHistory($event, item)">
                <ion-icon name="trash" color="danger"></ion-icon>
            </button>
        </ion-item>
    </ion-list>

    <ion-list *ngIf="list && list.length" class="items">
        <ion-card *ngFor="let item of list">
            <img [src]="item.thumbnail">
            <span class="duration">{{item.duration | duration}}</span>
            <ion-card-content>
                <ion-card-title>{{item.title}}</ion-card-title>
                <p style="height: 64px; overflow: hidden;">{{item.description}}</p>
                <div class="actions">
                    <ion-icon name="information-circle" (click)="getInfo($event, item)"></ion-icon>
                    <ion-icon name="download" (click)="download($event, item)"></ion-icon>
                </div>
            </ion-card-content>
        </ion-card>

        <!--<ion-item *ngFor="let item of list">-->
            <!--&lt;!&ndash;<ion-thumbnail item-start>&ndash;&gt;-->
            <!--<div item-start style="width:80px; height: 80px; background-position: center center" [style.backgroundImage]="'url('+item.thumbnail+')'"></div>-->
                <!--&lt;!&ndash;<ion-img item-start [src]="item.thumbnail" [width]="200"></ion-img>&ndash;&gt;-->
            <!--&lt;!&ndash;</ion-thumbnail>&ndash;&gt;-->
            <!--<h2>{{ item.title }}</h2>-->
            <!--<p style="height: 64px; overflow: hidden;">{{ item.description }}</p>-->
            <!--<button ion-button clear item-end>Play</button>-->
        <!--</ion-item>-->
    </ion-list>

    <ion-card>
        <ion-card-content>
            <button class="btn btn-primary" (click)="click1()">1</button>
            <button class="btn btn-primary" (click)="click2()">2</button>
            <button class="btn btn-primary" (click)="click3()">3</button>
            <button class="btn btn-primary" (click)="click4()">4</button>
        </ion-card-content>
    </ion-card>

</ion-content>
