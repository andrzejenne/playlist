<ion-header class="mode-color">
  <ion-navbar>
    <button ion-button menuToggle="menu">
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      Playlists
    </ion-title>
    <!--<ion-buttons end>-->
      <!--<button ion-button title="Search" class="primary-button" (click)="goToSearchPage()">-->
        <!--<ion-icon name="search"></ion-icon>-->
      <!--</button>-->
    <!--</ion-buttons>-->
  </ion-navbar>
</ion-header>

<ion-content #content class="mode-color">
  <!--<pre>{{!selector.length | json}}</pre>-->
  <!--<playlist-component ion-fixed *ngIf="playlist" [playlist]="playlist"></playlist-component>-->
  <ion-list>
    <ion-item *ngFor="let playlist of playlists"
              class="playlist-item item-small"
              (press)="selector.toggleSelect(playlist)"
              [class.selected]="plManager.playlist == playlist">
      <checker item-start (tap)="selector.toggleSelect(playlist)"
               [selected]="selector.isSelected(playlist)" [visible]="selector.length"></checker>

      <ion-label
        (tap)="plManager.toggleSelectPlaylist(playlist)">
        <h2>
          {{playlist.name}}
        </h2>
        <p>
          <span class="duration" *ngIf="playlist.duration">
            <ion-icon name="musical-note"></ion-icon>
            {{playlist.count}}
            <br>
            <ion-icon name="time"></ion-icon>
            {{playlist.duration | duration}}
          </span>
        </p>
      </ion-label>

      <ion-buttons item-end *ngIf="playlist.media?.length">
        <button ion-button clear (tap)="shuffle(playlist)">
          <ion-icon name="shuffle"></ion-icon>
        </button>
        <button ion-fab class="small" (tap)="play(playlist)">
          <ion-icon name="play"></ion-icon>
        </button>
      </ion-buttons>

    </ion-item>
  </ion-list>

  <ion-fab right bottom>
    <button *ngIf="!selector.length" ion-fab color="secondary"
          [class.hide]="plManager.playlist"
          (tap)="createPlaylist($event)">
      <ion-icon name="add"></ion-icon>
    </button>
    <button *ngIf="selector.length" ion-fab color="danger"
          [class.hide]="plManager.playlist"
          (tap)="removeSelected($event)">
      <ion-icon name="trash"></ion-icon>
    </button>
  </ion-fab>

  <!--<pre>{{playlist | json}}</pre>-->
</ion-content>
